(this.webpackJsonpviews=this.webpackJsonpviews||[]).push([[3,4],{40:function(e,t,n){"use strict";var r="https://grouptext-django.dreamstate-4-all.org/view_groups_members/",a="https://grouptext-django.dreamstate-4-all.org/add_group_member/",o="https://grouptext-django.dreamstate-4-all.org/TextGroups/",c="https://grouptext-django.dreamstate-4-all.org/TextGroupMember/",l="https://grouptext-django.dreamstate-4-all.org/ask_group_question/",u="https://grouptext-django.dreamstate-4-all.org/TextQuestion/ ";t.a={getGroups:function(){return fetch(r,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})},updateQuestion:function(e,t){return fetch(l+e+"/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()}))},getQuestion:function(){return fetch(u,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})},addGroups:function(e){return fetch(o,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()}))},removeGroup:function(e){return fetch(o+e+"/",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})},addMemberToGroup:function(e,t){return fetch(a+e+"/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()}))},removeMemberFromGroup:function(e){return fetch(c+e+"/",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})}}},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(12);var l=n(15);function u(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(l.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=n(10),p=n(9),d=n(40),f=function(e){var t=e.close,n=Object(r.useContext)(p.b),c=n.dispatch,l=Object(r.useState)(""),s=Object(m.a)(l,2),f=s[0],h=s[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{name:"group_name",type:"name",placeholder:"Group name",onChange:function(e){return h(o({},e.target.name,e.target.value))}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var r=i({},f);u(n.state.groups).push(r),d.a.addGroups(r).then((function(e){c({type:"check",payload:!n.state.check}),console.log(e)})),t()}},"Submit"))},h=function(e){var t=e.close,n=Object(r.useContext)(p.b),c=n.dispatch,l=Object(r.useState)(""),u=Object(m.a)(l,2),s=u[0],f=u[1],h=Object(r.useState)(""),b=Object(m.a)(h,2),g=b[0],y=b[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{name:"member_name",type:"name",placeholder:"Member name",onChange:function(e){return f(o({},e.target.name,e.target.value))}}),a.a.createElement("input",{name:"member_phone",type:"tel",placeholder:"Phone number",onChange:function(e){return y(o({},e.target.name,e.target.value))}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var r=i(i({},s),g),a=n.state.cur_group_id;console.log(r),d.a.addMemberToGroup(a,r).then((function(e){c({type:"check",payload:!n.state.check}),console.log(e)})),t()}},"Submit"))},b=function(e){var t=e.close,n=Object(r.useContext)(p.b),c=n.dispatch,l=Object(r.useState)(""),u=Object(m.a)(l,2),s=u[0],f=u[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{name:"question",type:"text",placeholder:"Yes or no question",onChange:function(e){return f(o({},e.target.name,e.target.value))}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var r=i({},s),a=n.state.cur_group_id;d.a.updateQuestion(a,r).then((function(e){c({type:"check",payload:!n.state.check}),console.log(e)})),t()}},"Submit"))},g=function(e){var t=e.close,n=Object(r.useContext)(p.b).dispatch,c=Object(r.useState)(""),l=Object(m.a)(c,2),u=l[0],s=l[1],d=Object(r.useState)(""),f=Object(m.a)(d,2),h=f[0],b=f[1],g=Object(r.useState)(""),y=Object(m.a)(g,2),E=y[0],j=y[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{name:"username",type:"name",placeholder:"Username",onChange:function(e){return s(o({},e.target.name,e.target.value))}}),a.a.createElement("input",{name:"password",type:"password",placeholder:"Password",onChange:function(e){return b(o({},e.target.name,e.target.value))}}),a.a.createElement("input",{name:"confirm_password",type:"password",placeholder:"Confirm Password",onChange:function(e){return j(o({},e.target.name,e.target.value))}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var r=i(i(i({},u),h),E);n({type:"registration",payload:r}),t()}},"Submit"))},y=function(e){var t=e.close,n=Object(r.useContext)(p.b).dispatch,c=Object(r.useState)(""),l=Object(m.a)(c,2),u=l[0],s=l[1],d=Object(r.useState)(""),f=Object(m.a)(d,2),h=f[0],b=f[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{name:"username",type:"name",placeholder:"Username",onChange:function(e){return s(o({},e.target.name,e.target.value))}}),a.a.createElement("input",{name:"password",type:"password",placeholder:"Password",onChange:function(e){return b(o({},e.target.name,e.target.value))}}),a.a.createElement("button",{onClick:function(e){e.preventDefault();var r=i(i({},u),h);n({type:"login",payload:r}),t()}},"Submit"))},E=function(e){var t=e.close,n=(e.info,e.element);return a.a.createElement("div",{className:"Questionaire"},a.a.createElement("h2",null,n),a.a.createElement("form",null,function(){switch(n){case"Login":return a.a.createElement(y,{close:t});case"Register":return a.a.createElement(g,{close:t});case"Groups":return a.a.createElement(f,{close:t});case"Member":return a.a.createElement(h,{close:t});case"Question":return a.a.createElement(b,{close:t});default:return}}()))};t.default=function(e){var t=e.close,n=e.data,o=Object(r.useContext)(p.b),c=o.dispatch;return a.a.createElement("div",{className:"wrapper"},a.a.createElement("h2",{className:"close",onClick:function(){return t()}},"X"),a.a.createElement("div",{className:"screen"},a.a.createElement(E,{close:function(){return t()},element:o.state.element,data:n,info:function(e){c({type:"setInfo",payload:e})}})))}},45:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(0),o=n.n(a),c=n(40),l=n(9),u=n(42),s=function(e){var t=e.members,n=Object(a.useContext)(l.b),r=n.dispatch;return o.a.createElement("div",{className:"members"},o.a.createElement("table",null,(t||[]).length<1?null:o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Tel"),o.a.createElement("th",null,"Remove"))),o.a.createElement("tbody",null,(t||[]).map((function(e,t){return o.a.createElement("tr",{key:t,className:e+t},o.a.createElement("td",null,e.member_name),o.a.createElement("td",null,e.member_phone),o.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return c.a.removeMemberFromGroup(e.member_id).then((function(e){console.log(e),r({type:"check",payload:!n.state.check})}))}},"X"))})))))},i=function(e){var t=e.questions;return console.log(t),o.a.createElement(o.a.Fragment,null,(t||[]).length<1?null:o.a.createElement("div",{className:"question"},o.a.createElement("h2",null,"Question"),o.a.createElement("p",null,t[t.length-1].question)))},m=function(e){var t=e.element,n=Object(a.useState)(!1),m=Object(r.a)(n,2),p=m[0],d=m[1],f=Object(a.useContext)(l.b),h=f.dispatch,b=function(e){d(!0),h({type:"setElement",payload:e}),h({type:"setCurrent",payload:t.group_id})};return o.a.createElement("div",{className:"groupElement"},p?o.a.createElement(u.default,{close:function(){return d(!1)}}):null,o.a.createElement("h1",null,t.group_name),o.a.createElement(s,{members:t.members}),console.log(t.questions),o.a.createElement(i,{questions:t.questions}),o.a.createElement("div",{className:"buttons-group"},o.a.createElement("button",{onClick:function(){return b("Member")}},"Add a Member"),o.a.createElement("button",{onClick:function(){return b("Question")}},"Add a Question"),o.a.createElement("button",{onClick:function(){c.a.removeGroup(t.group_id).then((function(e){h({type:"check",payload:!f.state.check}),console.log(e)}))}},"Remove Group"),o.a.createElement("button",null,"Send")))};t.default=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useContext)(l.b),p=i.dispatch;return Object(a.useEffect)((function(){c.a.getGroups().then((function(e){return e.json()})).then((function(e){p({type:"setGroups",payload:e}),console.log(e)}))}),[i.state.check]),o.a.createElement("div",{className:"CreateGroup"},n?o.a.createElement(u.default,{close:function(){return s(!1)}}):null,o.a.createElement("div",{className:"addGroup",onClick:function(){s(!0),p({type:"setElement",payload:"Groups"})}},"Add a Group +"),(i.state.groups||[]).map((function(e,t){return o.a.createElement(m,{key:t,element:e})})))}}}]);
//# sourceMappingURL=3.bb642b0b.chunk.js.map