(this.webpackJsonpviews=this.webpackJsonpviews||[]).push([[3,4],{38:function(e,t,n){"use strict";var a="https://grouptext-django.dreamstate-4-all.org/view_groups_members/",r="https://grouptext-django.dreamstate-4-all.org/add_group_member/";t.a={getGroups:function(){return fetch(a).then((function(e){return e.json()})).then((function(e){return e}))},addGroups:function(e){return fetch(a,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})},addMemberToGroup:function(e,t){return fetch(r+e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})},remobeMemberFromGroup:function(e){return fetch(r,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})}}},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(12);var u=n(15);function l(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(u.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=n(10),p=n(9),b=n(38),f=function(e){var t=e.close,n=Object(a.useContext)(p.b),c=n.dispatch,u=Object(a.useState)(""),s=Object(m.a)(u,2),f=s[0],d=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"group_name",type:"name",placeholder:"Group name",onChange:function(e){return d(o({},e.target.name,e.target.value))}}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=i({},f);l(n.state.groups).push(a),b.a.setGroups(a).then((function(e){c({type:"check",payload:!n.state.check}),console.log(e)})),t()}},"Submit"))},d=function(e){var t=e.close,n=Object(a.useContext)(p.b),c=n.dispatch,u=Object(a.useState)(""),l=Object(m.a)(u,2),s=l[0],f=l[1],d=Object(a.useState)(""),h=Object(m.a)(d,2),g=h[0],E=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"member_name",type:"name",placeholder:"Member name",onChange:function(e){return f(o({},e.target.name,e.target.value))}}),r.a.createElement("input",{name:"member_phone",type:"tel",placeholder:"Phone number",onChange:function(e){return E(o({},e.target.name,e.target.value))}}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=i(i({},s),g),r=n.state.cur_group_id;console.log(n),b.a.addMemberToGroup(r,a).then((function(e){c({type:"check",payload:!n.state.check}),console.log(e)})),t()}},"Submit"))},h=function(e){var t=e.close,n=Object(a.useContext)(p.b).dispatch,c=Object(a.useState)(""),u=Object(m.a)(c,2),l=u[0],s=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"question",type:"text",placeholder:"Yes or no question",onChange:function(e){return s(o({},e.target.name,e.target.value))}}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=i({},l);n({type:"question",payload:a}),t()}},"Submit"))},g=function(e){var t=e.close,n=Object(a.useContext)(p.b).dispatch,c=Object(a.useState)(""),u=Object(m.a)(c,2),l=u[0],s=u[1],b=Object(a.useState)(""),f=Object(m.a)(b,2),d=f[0],h=f[1],g=Object(a.useState)(""),E=Object(m.a)(g,2),y=E[0],O=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"username",type:"name",placeholder:"Username",onChange:function(e){return s(o({},e.target.name,e.target.value))}}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",onChange:function(e){return h(o({},e.target.name,e.target.value))}}),r.a.createElement("input",{name:"confirm_password",type:"password",placeholder:"Confirm Password",onChange:function(e){return O(o({},e.target.name,e.target.value))}}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=i(i(i({},l),d),y);n({type:"registration",payload:a}),t()}},"Submit"))},E=function(e){var t=e.close,n=Object(a.useContext)(p.b).dispatch,c=Object(a.useState)(""),u=Object(m.a)(c,2),l=u[0],s=u[1],b=Object(a.useState)(""),f=Object(m.a)(b,2),d=f[0],h=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"username",type:"name",placeholder:"Username",onChange:function(e){return s(o({},e.target.name,e.target.value))}}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",onChange:function(e){return h(o({},e.target.name,e.target.value))}}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=i(i({},l),d);n({type:"login",payload:a}),t()}},"Submit"))},y=function(e){var t=e.close,n=(e.info,e.element);return r.a.createElement("div",{className:"Questionaire"},r.a.createElement("h2",null,n),r.a.createElement("form",null,function(){switch(n){case"Login":return r.a.createElement(E,{close:t});case"Register":return r.a.createElement(g,{close:t});case"Groups":return r.a.createElement(f,{close:t});case"Member":return r.a.createElement(d,{close:t});case"Question":return r.a.createElement(h,{close:t});default:return}}()))};t.default=function(e){var t=e.close,n=e.data,o=Object(a.useContext)(p.b),c=o.dispatch;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",{className:"close",onClick:function(){return t()}},"X"),r.a.createElement("div",{className:"screen"},r.a.createElement(y,{close:function(){return t()},element:o.state.element,data:n,info:function(e){c({type:"setInfo",payload:e})}})))}},43:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(0),o=n.n(r),c=n(38),u=n(9),l=n(40),s=function(e){var t=e.members;Object(r.useContext)(u.b);return o.a.createElement("div",{className:"members"},o.a.createElement("table",null,(t||[]).length<1?null:o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Tel"),o.a.createElement("th",null,"Remove"))),o.a.createElement("tbody",null,(t||[]).map((function(e,t){return console.log(e),o.a.createElement("tr",{key:t,className:e+t},o.a.createElement("td",null,e.member_name),o.a.createElement("td",null,e.member_phone),o.a.createElement("td",{style:{cursor:"pointer"}},"X"))})))))},i=function(e){var t=e.question;return o.a.createElement(o.a.Fragment,null,(t||[]).length<1?null:o.a.createElement("div",{className:"question"},o.a.createElement("h2",null,"Question"),o.a.createElement("p",null,t||"First initial Question")))},m=function(e){var t=e.element,n=e.removeGroup,c=Object(r.useState)(!1),m=Object(a.a)(c,2),p=m[0],b=m[1],f=Object(r.useContext)(u.b).dispatch,d=function(e){b(!0),f({type:"setElement",payload:e}),f({type:"setCurrent",payload:t.group_id})};return o.a.createElement("div",{className:"groupElement"},p?o.a.createElement(l.default,{close:function(){return b(!1)}}):null,o.a.createElement("h1",null,t.group_name),o.a.createElement(s,{members:t.members}),o.a.createElement(i,{questions:t.question}),o.a.createElement("div",{className:"buttons-group"},o.a.createElement("button",{onClick:function(){return d("Member")}},"Add a Member"),o.a.createElement("button",{onClick:function(){return d("Question")}},"Add a Question"),o.a.createElement("button",{onClick:function(){return n(t.group_id)}},"Remove Group"),o.a.createElement("button",null,"Send")))};t.default=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(r.useContext)(u.b),p=i.dispatch;return Object(r.useEffect)((function(){c.a.getGroups().then((function(e){return p({type:"setGroups",payload:e})}))}),[i.state.check]),console.log(i.state),o.a.createElement("div",{className:"CreateGroup"},n?o.a.createElement(l.default,{close:function(){return s(!1)}}):null,o.a.createElement("div",{className:"addGroup",onClick:function(){s(!0),p({type:"setElement",payload:"Groups"})}},"Add a Group +"),(i.state.groups||[]).map((function(e,t){return o.a.createElement(m,{key:t,element:e})})))}}}]);
//# sourceMappingURL=3.dbcb1370.chunk.js.map